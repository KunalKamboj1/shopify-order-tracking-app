import{a as v,b as s,c as h,d as y,e as i,f as l,g as u,h as b,j as c,k as L,l as S,n as w}from"/build/_shared/chunk-IPTBUBXZ.js";import{d as t,f as N,h as o}from"/build/_shared/chunk-IA5SELQI.js";var P=t(v());var a=t(N());w();var r=t(o());function T(){let[d,x]=(0,a.useState)(""),[m,C]=(0,a.useState)(""),[_,p]=(0,a.useState)(!1),[g,k]=(0,a.useState)(""),[e,F]=(0,a.useState)(null),E=async()=>{p(!0),k("");try{let n=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderNumber:d,email:m})}),f=await n.json();if(!n.ok)throw new Error(f.message||"Failed to fetch order details");F(f)}catch(n){k(n.message)}finally{p(!1)}};return(0,r.jsx)(S,{children:(0,r.jsx)(c,{children:(0,r.jsx)(c.Section,{children:(0,r.jsx)(y,{children:(0,r.jsxs)(i,{gap:"4",children:[(0,r.jsx)(s,{variant:"headingLg",as:"h2",children:"Track Your Order"}),(0,r.jsxs)(b,{children:[(0,r.jsx)(l,{label:"Order Number",value:d,onChange:x,autoComplete:"off",required:!0}),(0,r.jsx)(l,{label:"Email",type:"email",value:m,onChange:C,autoComplete:"email",required:!0}),(0,r.jsx)(h,{primary:!0,onClick:E,loading:_,children:"Track Order"})]}),g&&(0,r.jsx)(u,{status:"critical",children:(0,r.jsx)("p",{children:g})}),e&&(0,r.jsxs)(i,{gap:"4",children:[(0,r.jsx)(s,{variant:"headingMd",children:"Order Status"}),e.fulfillment_status==="FULFILLED"?(0,r.jsxs)(i,{gap:"2",children:[(0,r.jsx)(u,{status:"success",children:(0,r.jsx)("p",{children:"Your order has been shipped!"})}),e.tracking_number&&(0,r.jsxs)(s,{children:["Tracking Number: ",e.tracking_number]}),e.tracking_url&&(0,r.jsx)(L,{url:e.tracking_url,external:!0,children:"Track Package"})]}):(0,r.jsx)(u,{children:(0,r.jsx)("p",{children:"Your order is being processed and hasn't been shipped yet."})})]})]})})})})})}var O=t(o());function B(){return(0,O.jsx)(T,{})}export{B as default};
